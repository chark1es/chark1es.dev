---
import { SITE } from "@config";
import { getCollection } from "astro:content";
import Layout from "@/layouts/Layout.astro";
import SectionContainer from "@/components/SectionContainer.astro";
import getSortedTags from "@/utils/getSortedTags";

const posts = await getCollection("blogs");

let tags = getSortedTags(posts);
---

<Layout title={`Tags - ${SITE.title}`}>
    <main
        class="flex flex-col justify-center mt-5 items-center overflow-x-hidden xl:left-7 mx-auto"
    >
        <div
            class="lg:space-y-8 max-w-5xl px-2 sm:px-8 sm:space-y-6 space-y-4 w-full"
        >
            <div
                class="flex flex-col p-5 rounded-2xl text-lg shadow-md bg-white dark:text-dark_mode_text dark:bg-dark_mode_post"
            >
                <a
                    class="blog-back-button cursor-pointer font-bold text-neutral-500 flex no-underline mb-2"
                    href="/"
                >
                    <iconify-icon
                        icon="eva:arrow-back-outline"
                        height="20"
                        width="20"
                        style=""
                        class="pt-1 mr-1"></iconify-icon>
                     Back to Home
                </a>
                <div class="text-3xl dark:text-white font-bold :text-4xl mb-2">
                    Tags
                </div>
                <div class="text-sm mb-2">A list of all available tags</div>
            </div>
        </div>
        <div
            class="flex flex-wrap max-w-5xl px-2 mt-5 sm:px-8 w-full space-x-4"
        >
            {
                tags.map((tag) => (
                    <a
                        class="flex max-w-fit p-3 rounded-2xl text-lg shadow-md bg-white dark:text-dark_mode_text dark:bg-dark_mode_post hover:scale-110 transition duration-500"
                        href={`/tags/${tag}`}
                    >
                        #{tag}
                    </a>
                ))
            }
        </div>
        <!-- <div
        class="main-wrapper wrap-md grid gap-16 md:gap-24 lg:gap-32 mx-auto"
    >
        <SectionContainer class="blogs--container mt-32">
            <a
                href="/"
                class="font-medium flex no-underline text-neutral-500 mb-8"
            >
                Back to home
            </a>
            <h2
                class="font-medium text-h4 text-neutral-500 my-4 leading-8 tracking-tighter"
            >
                Tags
                <span class="ml-2 opacity-70 text-xl">
                    (All tags used in blogs)
                </span>
            </h2>
            <ul class="list-none space-y-5">
                {
                    tags.map((tag) => (
                        <li class={`inline-block my-3 mx-1 underline-offset-8`}>
                            <a
                                href={`/tags/${tag.toLowerCase()}`}
                                class={`text-lg pr-2 flex flex-wrap items-center relative underline hover:-top-0.5 hover:text-skin-accent focus-visible:p-1`}
                            >
                                &nbsp;<span>{tag.toLowerCase()}</span>
                            </a>
                        </li>
                    ))
                }
            </ul>
        </SectionContainer>
    </div> -->
    </main>
</Layout>
